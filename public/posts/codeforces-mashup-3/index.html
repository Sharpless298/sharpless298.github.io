<!DOCTYPE html>
<html lang="zh-TW"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title> Codeforces Mashup 3 - Sharpless298&#39;s Blog </title>
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="referrer" content="no-referrer">
	<meta name="description" content="" />

	<meta property="og:site_name" content="Sharpless298&#39;s Blog" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="http://localhost:1313/posts/codeforces-mashup-3/" />
	<meta property="og:title" content="Codeforces Mashup 3" />
	<meta property="og:image" content="http://localhost:1313/" />
	<meta property="og:description" content="" />

	

	<link rel="canonical" href="http://localhost:1313/posts/codeforces-mashup-3/">

	<link href="http://localhost:1313/css/custom.css" rel="stylesheet" type="text/css"/>
	<link href="http://localhost:1313/css/syntax.css" rel="stylesheet" type="text/css"/>
	<link href="http://localhost:1313/css/anchor.css" rel="stylesheet" type="text/css"/>

	

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css" integrity="sha384-ZPe7yZ91iWxYumsBEOn7ieg8q/o+qh/hQpSaPow8T6BwALcXSCS6C6fSRPIAnTQs" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js" integrity="sha384-ljao5I1l+8KYFXG7LNEA7DyaFvuvSCmedUf6Y6JI7LJqiu8q5dEivP2nDdFH31V4" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>
<script>
	document.addEventListener("DOMContentLoaded", function() {
		renderMathInElement(document.body, {
			delimiters: [
				{left: '$$', right: '$$', display: true},
				{left: '$', right: '$', display: false},
				{left: '\\(', right: '\\)', display: false},
				{left: '\\[', right: '\\]', display: true}
			],
			throwOnError : false
		});
	});
</script>

	<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
</head>
<body>
		
<header>
	<a href="http://localhost:1313/">
		<h1 class="site-name">Sharpless298&#39;s Blog</h1>
	</a>

	<ul class="nav">
		
		<li>
			<a class="nav-link" href="/">
				
				Home
			</a>
		</li>
		
		<li>
			<a class="nav-link" href="/about/">
				
				About
			</a>
		</li>
		
	</ul>
</header>


<div class="content">
	<h1 class="mx-0 blog-post-title">Codeforces Mashup 3</h1>

	<div class="mb-md-4 meta">
        

        <span class="date" title='Fri Aug 15 2025 00:10:22 CST'>
        August 15, 2025
        </span>

        
	</div>

	<div class="markdown blog-post-content">
		<h2 id="cf-2039d">CF 2039D</h2>
<h3 id="description">Description</h3>
<p><a href="https://codeforces.com/problemset/problem/2039/D">Link</a></p>
<h3 id="solution">Solution</h3>
<p>當 $i=1,\; \forall j \in [2,n] :$ $$a_{\gcd(1,j)}=a_1 \neq \gcd(a_1,a_j)$$ 觀察得到 $$a_1 \neq \gcd(a_1,a_j) \iff a_1 \nmid a_j$$</p>
<p>先假設 $a_1$ 滿足 $a_1 \nmid a_j$ ，繼續往下推。</p>
<p>當 $i=2,\; \forall j \in [3,n] :$ \[ a_{\gcd(2,j)} = \begin{cases} a_1 \neq \gcd(a_2, a_j), &amp; j \text{ is odd.} \\ a_2 \neq \gcd(a_2, a_j), &amp; j \text{ is even.} \end{cases} \]</p>
<ul>
<li>當 $j$ 是奇數：因為前面已經假設 $a_1$ 不會整除其他數，它自然也不會是其他兩數的最大公因數，所以這條式子成立。</li>
<li>當 $j$ 是偶數：同樣可得 $a_2 \neq \gcd(a_2,a_j) \iff a_2 \nmid a_j$</li>
</ul>
<p>接著再假設 $a_2 \nmid a_j$ ，推 $i=3,\;\forall j \in [4,n]$ 的情況，這樣不斷推下去可以得到一個結論： $$\forall\, i \in [1,n],\;\forall\, j \in (i,n],\;\forall\, k \in [2,\left\lfloor \frac{n}{i} \right\rfloor] \quad a_i\neq \gcd(a_i,a_j) \iff a_i \nmid a_{ki}$$</p>
<p>結論有了，怎麼構造？其實很簡單，<strong>一個數不能整除比他小的數</strong>，題目又剛好要求字典序最大，因此考慮以下構造方式：</p>
<ul>
<li>令題目給定的集合 $S = \{ s_1, s_2, \dots, s_m \}, \quad s_1 &lt; s_2 &lt; \cdots &lt; s_m$</li>
<li>$a_1=s_m$</li>
<li>對於 $i \geq 2$ ，設 \(a_j = \min \{ a_k : k \mid i,\, k \neq i \}\) ，若 $a_j$ 為 $s_t$， 則令 $a_i$ 為 $s_{t-1}$；若 $t=1$ 則無解。</li>
</ul>
<p>時間複雜度 $O(n \log n)$ 。</p>
<p><a href="https://codeforces.com/contest/2039/submission/333991898">AC Code</a></p>
<h2 id="cf-2112d">CF 2112D</h2>
<h3 id="description-1">Description</h3>
<p><a href="https://codeforces.com/problemset/problem/2112/D">Link</a></p>
<h3 id="solution-1">Solution</h3>
<h4 id="觀察">觀察</h4>
<ul>
<li>$n = 2$ 無解</li>
<li>$u \rightarrow v \rightarrow w$ 有 $3$ 個 good pair</li>
<li>$v_1 \rightarrow v_2 \rightarrow \cdots \rightarrow v_k$ ， $k$ 不可能大於 $3$ 。</li>
<li>$v_1\rightarrow v_2 \leftarrow v_3 \rightarrow \dots \leftarrow v_k$ 有 $k-1$ 個 good pair</li>
</ul>
<p>找到一個度數為 $2$ 的節點 $v$ ，假設 $v$ 相鄰的節點為 $v, w$ ，就像觀察二一樣構造 $u \rightarrow v \rightarrow w$ ，剩下的點就像觀察三一樣接上去就好，參考下圖</p>
<p><img src="/posts/codeforces-mashup-3/graph.png" alt=""></p>
<p>時間複雜度 $O(n)$ 。</p>
<p><a href="https://codeforces.com/contest/2112/submission/334600976">AC Code</a></p>
<h2 id="cf-1975d">CF 1975D</h2>
<h3 id="description-2">Description</h3>
<p><a href="https://codeforces.com/contest/1975/problem/D">Link</a></p>
<h3 id="solution-2">Solution</h3>
<h4 id="觀察-1">觀察</h4>
<ul>
<li>$P_A,\,P_B$ 亂逛是沒有用的，應該先找到最先被染色成藍色的點，假設為 $v$ 。</li>
<li>假設所有的點中與 $v$ 的最遠距離為 $d$ ，答案為 $dis(b, v) + 2(n-1) - d$ 。</li>
</ul>
<p>時間複雜度 $O(n)$ 。</p>
<p><a href="https://codeforces.com/contest/1975/problem/D">AC Code</a></p>


	</div>

	
</div>

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
	anchors.options = {
		placement: 'left',
		visible: 'touch',
		icon: '#'
	};
	anchors.add('.content h1, .content h2, .content h3');
</script>

<footer></footer>


	</body>

</html>
