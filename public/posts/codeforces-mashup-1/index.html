<!DOCTYPE html>
<html lang="zh-TW"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title> Codeforces Mashup 1 - Sharpless298&#39;s Blog </title>
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="referrer" content="no-referrer">
	<meta name="description" content="" />

	<meta property="og:site_name" content="Sharpless298&#39;s Blog" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="http://localhost:1313/posts/codeforces-mashup-1/" />
	<meta property="og:title" content="Codeforces Mashup 1" />
	<meta property="og:image" content="http://localhost:1313/" />
	<meta property="og:description" content="" />

	

	<link rel="canonical" href="http://localhost:1313/posts/codeforces-mashup-1/">

	<link href="http://localhost:1313/css/custom.css" rel="stylesheet" type="text/css"/>
	<link href="http://localhost:1313/css/syntax.css" rel="stylesheet" type="text/css"/>
	<link href="http://localhost:1313/css/anchor.css" rel="stylesheet" type="text/css"/>

	

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css" integrity="sha384-ZPe7yZ91iWxYumsBEOn7ieg8q/o+qh/hQpSaPow8T6BwALcXSCS6C6fSRPIAnTQs" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js" integrity="sha384-ljao5I1l+8KYFXG7LNEA7DyaFvuvSCmedUf6Y6JI7LJqiu8q5dEivP2nDdFH31V4" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>
<script>
	document.addEventListener("DOMContentLoaded", function() {
		renderMathInElement(document.body, {
			delimiters: [
				{left: '$$', right: '$$', display: true},
				{left: '$', right: '$', display: false},
				{left: '\\(', right: '\\)', display: false},
				{left: '\\[', right: '\\]', display: true}
			],
			throwOnError : false
		});
	});
</script>

	<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
</head>
<body>
		
<header>
	<a href="http://localhost:1313/">
		<h1 class="site-name">Sharpless298&#39;s Blog</h1>
	</a>

	<ul class="nav">
		
		<li>
			<a class="nav-link" href="/">
				
				Home
			</a>
		</li>
		
		<li>
			<a class="nav-link" href="/about/">
				
				About
			</a>
		</li>
		
	</ul>
</header>


<div class="content">
	<h1 class="mx-0 blog-post-title">Codeforces Mashup 1</h1>

	<div class="mb-md-4 meta">
        

        <span class="date" title='Sat Aug 2 2025 05:18:41 CST'>
        August 2, 2025
        </span>

        
	</div>

	<div class="markdown blog-post-content">
		<h2 id="cf-2034d">CF 2034D</h2>
<h3 id="description">Description</h3>
<p><a href="https://codeforces.com/problemset/problem/2034/D">Link</a></p>
<h3 id="solution">Solution</h3>
<p>定義 $cnt_0,\ cnt_1,\ cnt_2$ 分別為 $0, 1, 2$ 的個數。</p>
<p>一個遞增數列的 $[0, cnt_0)$ 區間必定都是 $0$ ， 先考慮把這個區間的數都換成 $0$ ，以下 $\forall i \in [0, cnt_0)$。</p>
<ul>
<li>$a_i = 0$ : 不動作。</li>
<li>$a_i = 1$ : 找最右邊 $0$ 交換。</li>
<li>$a_i = 2$ : 先找最右邊的 $1$ 交換， 再找最右邊的 $0$ 交換。</li>
</ul>
<p>最後再排序 $[cnt_0, n)$。</p>
<p>對於以下幾種情況：</p>
<ol>
<li>整個數列只有 $\{0, 1\}$ 或 $\{1, 2\}$，會交換 $\min(cnt_0, cnt_1)$ 或 $\min(cnt_1, cnt_2)$ 次。</li>
<li>區間 $[0, cnt_0)$ 都是 $1$，會交換 $cnt_0$ 次，$[cnt_0, n)$ 會交換 $\min(cnt_1, cnt_2)$ 次，總共 $cnt_0 + \min(cnt_1, cnt_2)$ 次。</li>
<li>區間 $[0, cnt_0)$ 都是 $2$，會交換 $2cnt_0$ 次，且除了第一次交換，每次都必定會有一個 $2$ 被交換至 $[cnt_0+cnt_1, n)$ 之間，因此 $[cnt_0, n)$ 會交換 $cnt_2-(cnt_0-1)$ 次，總共 $cnt_0 + cnt_2 + 1$ 次，題目保證 $cnt_1 \geq 1$，<br>
因此 $cnt_0 + cnt_2 + 1 \leq n$。</li>
<li>顯然其他情況不會比 3. 更糟。</li>
</ol>
<p>時間複雜度 $O(n)$ 。</p>
<p><a href="https://codeforces.com/contest/2034/submission/331907445">AC Code</a></p>
<h2 id="cf-1766d">CF 1766D</h2>
<h3 id="description-1">Description</h3>
<p><a href="https://codeforces.com/contest/1766/problem/D">Link</a></p>
<h3 id="solution-1">Solution</h3>
<p>觀察一下不難發現：</p>
<ul>
<li>$x=y \Rightarrow k = 0$</li>
<li>$x=y-1 \Rightarrow k = \infty$</li>
</ul>
<p>對於 $x &lt; y - 1$ 的情況，我們先將數對 $(x,y)$ 兩邊減去 $x$ 變成 $(0, y-x)$ ，此時問題變成：</p>
<p><strong>找到一個最小的正整數 $\bm{z \geq x}$ 使得 $\bm{\gcd(z, y-x+z) \neq 1}$</strong></p>
<p>假設 $y-x$ 有 $c$ 個相異質因數 $p_i$ ，$i \in [1, c]$ $$y-x = p_1 p_2 \dots p_c$$</p>
<p>觀察可發現 $\gcd(z, y-x+z) \neq 1 \Rightarrow$ $(y-x)$ 至少有一個質因數整除 $z$，因此對於每一個 $(y-x)$ 的質因數 ，皆存在一個最小的正整數 $m_i$ 使得 $p_i m_i \geq x$ ，找到最小的 $p_i m_i - x$ 就是答案。</p>
<p>令 $N$ 為 $(y - x)$ 的最大值，利用線性篩可以紀錄最小質因數達到 $O(\log N)$ 分解質因數，時間複雜度 $O(n \log N)$ 。</p>
<p><a href="https://codeforces.com/contest/1766/submission/332299877">AC Code</a></p>
<h2 id="cf-1857f">CF 1857F</h2>
<h3 id="description-2">Description</h3>
<p><a href="https://codeforces.com/problemset/problem/1857/F">Link</a></p>
<h3 id="solution-2">Solution</h3>
<p>$$ \begin{align} a_i + a_j = x \\ a_i \cdot a_j = y \end{align} $$ 由 $(1)$ 得 $a_j = x - a_i$ 代入 $(2)$ $$ \begin{aligned} &amp;{a_j}^2-xa_i+y=0 \\[0.6em] \Rightarrow\,&amp;a_j = \frac{x \pm \sqrt{x^2-4y}}{2} \\ \Rightarrow\,&amp;a_i = x - a_j \end{aligned} $$</p>
<p>$a_i$, $a_j$有解的話要符合：</p>
<ul>
<li>$x^2-4y \geq 0$ 且為完全平方數</li>
<li>$x \pm \sqrt{x^2-4y}$ 是偶數</li>
</ul>
<p>當 $a_i \neq a_j$ ，答案為 $a_i$ 和 $a_j$ 個數相乘；當 $a_i = a_j$ ，假設個數為 $k$ ，答案為 $\binom{k}{2}$ 。</p>
<p>時間複雜度 $O(q \log n)$。</p>
<p><a href="https://codeforces.com/contest/1857/submission/332627790">AC Code</a></p>
<h2 id="cf-1680c">CF 1680C</h2>
<h3 id="description-3">Description</h3>
<p><a href="https://codeforces.com/problemset/problem/1680/C">Link</a></p>
<h3 id="solution-3">Solution</h3>
<p>定義 $p_0$ 和 $p_1$ 為 $0$ 和 $1$ 的個數前綴和，以下都是左閉右開區間。</p>
<p>使用雙指標，$[l, r)$ 表示沒被刪除的區間，對於每一個 $l$ 只要滿足 $p_0(r)-p_0(l) &lt; p_1(l)+p_1(n)-p_1(r)$ ，就不斷右移 $r$ ，答案為 $\max(p_0(r)-p_0(l),\, p_1(l)+p_1(n)-p_1(r))$ 的最小值。</p>
<p>時間複雜度 $O(n)$。</p>
<p><a href="https://codeforces.com/contest/1680/submission/332749464">AC Code</a></p>
<h2 id="cf-1843e">CF 1843E</h2>
<h3 id="description-4">Description</h3>
<p><a href="https://codeforces.com/problemset/problem/1843/E">Link</a></p>
<h3 id="solution-4">Solution</h3>
<p>定義 $cnt_0$ 和 $cnt_1$ 為 $0$ 和 $1$ 的個數。</p>
<p>觀察到若前 $k$ 項滿足 $cnt_1 &gt; cnt_0$ 時， 前 $k + 1$ 項也會滿足；相反地，若前 $k$ 項不滿足 $cnt_1 &gt; cnt_0$ 時，前 $k - 1$ 項也會不滿足。<br>
因此我們可以對 $k$ 二分搜，每次 $O(n)$ 修改並計算 $1$ 的前綴和，接著 $O(m)$ 檢查每個區間有沒有滿足。</p>
<p>時間複雜度 $O((n+m)\log q)$ 。</p>
<p><a href="https://codeforces.com/contest/1843/submission/332966958">AC Code</a></p>


	</div>

	
</div>

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
	anchors.options = {
		placement: 'left',
		visible: 'touch',
		icon: '#'
	};
	anchors.add('.content h1, .content h2, .content h3');
</script>

<footer></footer>


	</body>

</html>
