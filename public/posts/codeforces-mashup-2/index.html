<!DOCTYPE html>
<html lang="zh-TW"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title> Codeforces Mashup 2 - Sharpless298&#39;s Blog </title>
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="referrer" content="no-referrer">
	<meta name="description" content="" />

	<meta property="og:site_name" content="Sharpless298&#39;s Blog" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="http://localhost:1313/posts/codeforces-mashup-2/" />
	<meta property="og:title" content="Codeforces Mashup 2" />
	<meta property="og:image" content="http://localhost:1313/" />
	<meta property="og:description" content="" />

	

	<link rel="canonical" href="http://localhost:1313/posts/codeforces-mashup-2/">

	<link href="http://localhost:1313/css/custom.css" rel="stylesheet" type="text/css"/>
	<link href="http://localhost:1313/css/syntax.css" rel="stylesheet" type="text/css"/>
	<link href="http://localhost:1313/css/anchor.css" rel="stylesheet" type="text/css"/>

	

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css" integrity="sha384-ZPe7yZ91iWxYumsBEOn7ieg8q/o+qh/hQpSaPow8T6BwALcXSCS6C6fSRPIAnTQs" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js" integrity="sha384-ljao5I1l+8KYFXG7LNEA7DyaFvuvSCmedUf6Y6JI7LJqiu8q5dEivP2nDdFH31V4" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>
<script>
	document.addEventListener("DOMContentLoaded", function() {
		renderMathInElement(document.body, {
			delimiters: [
				{left: '$$', right: '$$', display: true},
				{left: '$', right: '$', display: false},
				{left: '\\(', right: '\\)', display: false},
				{left: '\\[', right: '\\]', display: true}
			],
			throwOnError : false
		});
	});
</script>

	<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
</head>
<body>
		
<header>
	<a href="http://localhost:1313/">
		<h1 class="site-name">Sharpless298&#39;s Blog</h1>
	</a>

	<ul class="nav">
		
		<li>
			<a class="nav-link" href="/">
				
				Home
			</a>
		</li>
		
		<li>
			<a class="nav-link" href="/about/">
				
				About
			</a>
		</li>
		
	</ul>
</header>


<div class="content">
	<h1 class="mx-0 blog-post-title">Codeforces Mashup 2</h1>

	<div class="mb-md-4 meta">
        

        <span class="date" title='Sat Aug 9 2025 18:37:41 CST'>
        August 9, 2025
        </span>

        
	</div>

	<div class="markdown blog-post-content">
		<h2 id="cf-2117e">CF 2117E</h2>
<h3 id="description">Description</h3>
<p><a href="https://codeforces.com/problemset/problem/2117/E">Link</a></p>
<h3 id="solution">Solution</h3>
<p>顯然從陣列末端操作回來會最好，接著觀察發現刪除和不刪除的情況合在一起使得 index 為 $i$ 的陣列元素能被換成集合 $\{a_{i+2},\, a_{i+3}, \, \dots,\, a_n,\, b_{i+2},\, b_{i+3},\, \dots ,\,b_n\}$ 內的任意元素，因此可以檢查 $a_i$ 或 $b_i$ 有沒有出現在集合裡，若沒有再檢查<br>
$a_i = b_i \lor a_i = a_{i+1} \lor b_i = b_{i+1}$ 是否為真，找到最大的 $i$ 就是答案，沒找到就把 $a_{i+1}$ 和 $b_{i+1}$ 加進集合裡，。</p>
<p>時間複雜度 $O(n)$。</p>
<p>我的 code 有點醜就不放了，看官解就好。</p>
<h2 id="cf-1917c">CF 1917C</h2>
<h3 id="description-1">Description</h3>
<p><a href="https://codeforces.com/contest/1917/problem/C">Link</a></p>
<h3 id="solution-1">Solution</h3>
<p>先考慮當數列 $a$ 重置為 $0$ 的情況，觀察發現不管選幾次 (1)， $a_j = j$ 的個數只會小於等於 $1$ ，因此只要 (1) (2) (1) (2) 這樣交替下去就會得到最大分數，假設有 $w$ 天則可以得到 $\left\lfloor \frac{w}{2} \right\rfloor$ 的分數。</p>
<p>再考慮最初的數列 $a$ ，一個長度為 $n$ 的數列最多也只會貢獻 $n$ 的分數，再利用上面的結論，得出最多連續選 (1) $\min(2n, d)$ 天，否則分數只會更小，$n$ 夠小所以我們可以暴力枚舉和更新數列 $a$ ，假設第 $i$ 天第一次選 (2) ，答案為 $\max(cnt_i + \left\lfloor \frac{n - i}{2} \right\rfloor)$，其中 $cnt_i$ 為第 $i$ 天 $a_j = j$ 的個數，$1\leq i \leq \min(2n+1, d)$ ，$1\leq j \leq n$ 。</p>
<p>時間複雜度 $O(n ^ 2)$ 。</p>
<p><a href="https://codeforces.com/contest/1917/submission/333519011">AC Code</a></p>
<h2 id="cf-1671d">CF 1671D</h2>
<h3 id="description-2">Description</h3>
<p><a href="https://codeforces.com/problemset/problem/1671/D">Link</a></p>
<h3 id="solution-2">Solution</h3>
<h4 id="觀察">觀察</h4>
<ul>
<li>$a^{\prime}$ 的分數大於等於 $a$ 。</li>
<li>一段遞增或遞減的數列會比其他排列方式的分數小，且分數為首項減末項的絕對值。</li>
</ul>
<p>根據觀察可以發現只需要關注 $1$ 和 $x$ 插在哪就好，因為當 $1$ 和 $x$ 插好後，我們一定可以把剩下的數找到某個遞增或遞減的區間插入，上面的第二個觀察告訴你它們不會影響分數。</p>
<p>先計算原數列的分數，再枚舉插入 $1$ 的位置，找到插入後增加的分數為最小的那個，頭尾的位置分別會多出 $\lvert a_1 - 1 \rvert$ 和 $\lvert a_{n} - 1 \rvert$ ，其他位置會多出 $2 \cdot \lvert a_i - 1\rvert$ ；同樣地，當 $x$ 小於等於數列 $a$ 的最大值時不影響分數，否則就用和插入 $1$ 一樣的方式計算。</p>
<p>時間複雜度 $O(n)$ 。</p>
<p><a href="https://codeforces.com/contest/1671/submission/333668690">AC Code</a></p>
<h2 id="cf-1899f">CF 1899F</h2>
<h3 id="description-3">Description</h3>
<p><a href="https://codeforces.com/problemset/problem/1899/F">Link</a></p>
<h3 id="solution-3">Solution</h3>
<p>$(x,y)$ 表示節點 $x$ 和節點 $y$ 之間有一個邊，考慮以下構造方式： $$(1, n-1),\,(n-1,n-2),\,(n-2,n-3),\,\dots,\,(3,2),(2,n)$$ 當操作為 $u=1,\,v_1=n-1,\,v_2=k$ ，節點 $1$ 和節點 $n$ 的距離恰為 $k$ ，且 $2\leq k = d_i\leq n-1$ ，因此我們只需要記錄節點 $1$ 前一次連的點 $l$ ，就可以 $O(1)$ 操作 $u=1,\,v_1=l,\,v_2=d_i$ 。</p>
<p>時間複雜度 $O(n + q)$ 。</p>
<p><a href="https://codeforces.com/contest/1899/submission/333784568">AC Code</a></p>
<h2 id="cf-2051e">CF 2051E</h2>
<h3 id="description-4">Description</h3>
<p><a href="https://codeforces.com/contest/2051/problem/E">Link</a></p>
<h3 id="solution-4">Solution</h3>
<p>令集合 $S$ 為 $\{a_1,\,a_2,\,\dots,\,a_n,\,b_1,\,b_2,\,\dots,\,b_n\}$ ，且 $p \in S$ 。</p>
<h4 id="觀察-1">觀察</h4>
<ul>
<li>最大收益的價格只會在 $S$ 裡。</li>
<li>負評數量不超過 $k$ $\iff$ 滿足 $a_i &lt; p \leq b_i$ 的個數不超過 $k$ 。</li>
<li>最大收益為價格乘上滿足 $b_i\leq p$ 的個數。</li>
</ul>
<p>離散化後第二個和第三個觀察可以用差分解決，之後暴力枚舉 $S$ 裡面的元素。</p>
<p>時間複雜度 $O(n \log n)$ 。</p>
<p><a href="https://codeforces.com/contest/2051/submission/333824127">AC Code</a></p>


	</div>

	
</div>

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
	anchors.options = {
		placement: 'left',
		visible: 'touch',
		icon: '#'
	};
	anchors.add('.content h1, .content h2, .content h3');
</script>

<footer></footer>


	</body>

</html>
